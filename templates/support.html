<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ site_config.page_titles.support if site_config and site_config.page_titles else 'Support - Adzsend' }}</title>

    <!-- SEO Meta Tags -->
    <meta name="description" content="{{ get_page_description('support') if get_page_description else 'Get support for Adzsend' }}">

    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='responsive.css') }}">
    {% include 'partials/config_styles.html' %}
    <script src="{{ url_for('static', filename='custom_popup.js') }}"></script>
</head>
<body>
    <div class="panel">
        {% include 'navbar.html' %}

        <div class="panel-container">
            <div class="support-content">
                <!-- Hero Section -->
                <div class="support-hero">
                    <h1 class="support-hero-title hero-fade-in">{{ support_hero_title }}</h1>
                </div>

                <!-- FAQ Section -->
                <div class="support-faq-section">
                    <h2 class="support-faq-title hero-fade-in" style="animation-delay: 0.3s;">{{ support_faq_title }}</h2>

                    <div class="faq-list">
                        {% for faq in faq_items %}
                        <div class="faq-item hero-fade-in" style="animation-delay: {{ 0.6 + loop.index0 * 0.3 }}s;">
                            <div class="faq-question" onclick="toggleFaq(this)">
                                <span class="faq-question-text">{{ faq.question }}</span>
                                <img src="{{ url_for('static', filename='openorclose.png') }}" alt="Toggle" class="faq-toggle-icon">
                            </div>
                            <div class="faq-answer">
                                <div class="faq-answer-divider"></div>
                                <p>{{ faq.answer }}</p>
                            </div>
                        </div>
                        {% endfor %}
                    </div>

                    <!-- Contact Support -->
                    <div class="support-contact hero-fade-in" style="animation-delay: {{ 0.6 + faq_items|length * 0.3 }}s;">
                        <p class="support-contact-text">{{ support_contact_text }}</p>
                        <a href="{{ discord_server_url }}" target="_blank" class="discord-btn">
                            <img src="{{ url_for('static', filename='discordlogo.png') }}" alt="Discord" class="discord-btn-icon">
                            Contact support
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function toggleFaq(element) {
            const faqItem = element.parentElement;
            const answer = faqItem.querySelector('.faq-answer');

            // Close all other FAQs
            document.querySelectorAll('.faq-item').forEach(item => {
                if (item !== faqItem && item.classList.contains('active')) {
                    item.classList.remove('active');
                    item.querySelector('.faq-answer').style.maxHeight = '0';
                }
            });

            // Toggle current FAQ
            faqItem.classList.toggle('active');

            if (faqItem.classList.contains('active')) {
                answer.style.maxHeight = answer.scrollHeight + 'px';
            } else {
                answer.style.maxHeight = '0';
            }
        }
    </script>

    {% include 'partials/settings_popup.html' %}
</body>
</html>
